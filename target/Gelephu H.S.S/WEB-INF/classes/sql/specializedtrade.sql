SpecializedDao.gFeeStructure =SELECT CAST(IF(f.`NewRegistrationFee` IS NULL,'0',f.`NewRegistrationFee`) AS UNSIGNED) registrationFee,f.`FirstRenewalFee` renewalFee,f.`Name` name,f.`RegistrationValidity` validaty FROM`crpservicefeestructure` f WHERE f.`Name`='Specialized Trade';
SpecializedDao.category=SELECT a.Id AS id, CONCAT(a.Code,'-',a.Name) code FROM cmnspecializedtradecategory a

SpecializedDao.getDtls=SELECT a.CIDNo cidNo, a.Name fullname, a.MobileNo mobileNo, a.ApplicationDate initialDate,a.ReferenceNo referenceNo FROM crpspecializedtrade a WHERE a.ReferenceNo=?

SpecializedDao.getMaxId = SELECT  A.ReferenceNo FROM crpspecializedtrade A ORDER BY A.ReferenceNo DESC LIMIT 1
SpecializedDao.getTaskList=SELECT a.Name serviceName,a.ReferenceNo applicationNo,a.MobileNo contactNo,a.ApplicationDate applicationDate,a.CIDNo serviceNo,b.Name AS appStatus FROM crpspecializedtrade a INNER JOIN cmnlistitem b  ON b.Id = a.CmnApplicationRegistrationStatusId INNER JOIN crpspecializedtradeappliedservice s ON s.CrpSpecializedTradeId = a.Id WHERE a.SysLockedByUserId IS NULL AND s.CmnServiceTypeId = ? AND a.CmnApplicationRegistrationStatusId = ? ORDER BY a.ReferenceNo DESC ;
SpecializedDao.getMyTaskList=SELECT a.Name serviceName,a.ReferenceNo applicationNo,a.MobileNo contactNo,a.ApplicationDate applicationDate, a.CIDNo serviceNo, b.Name AS appStatus FROM crpspecializedtrade a INNER JOIN cmnlistitem b ON b.Id = a.CmnApplicationRegistrationStatusId INNER JOIN crpspecializedtradeappliedservice s ON s.CrpSpecializedTradeId = a.Id WHERE a.SysLockedByUserId = ? AND s.CmnServiceTypeId = ? AND a.CmnApplicationRegistrationStatusId = ? ORDER BY a.ReferenceNo DESC ;

SpecializedDao.send2MyOrGroupTask = UPDATE crpspecializedtrade a SET a.`SysLockedByUserId` =:lockUserId  WHERE a.ReferenceNo =:appNo

SpecializedDao.getSpecializedradeDtls=SELECT a.CmnApplicationRegistrationStatusId updateStatus,a.TelephoneNo telephoneNo, a.TPN tpn,a.CrpSpecializedTradeId,a.ReferenceNo,w.CmnAppliedCategoryId id,cat.Name name,a.CIDNo cidNo,a.Name fullname,i.Name salutation,d.NameEn dzongkhagId,a.Gewog gewog,a.Village village,a.Email email,a.MobileNo mobileNo,a.EmployerName employeeName,a.EmployerAddress employeeAddress,a.VerifiedDate verifcationdate,a.RemarksByVerifier verifierremarks,a.RegistrationApprovedDate approvaldate,a.RemarksByApprover approiverremarks,ss.Name serviceTypeId,a.RegistrationExpiryDate regExpDate,a.ApplicationDate applicationDate FROM cmnspecializedtradecategory cat LEFT JOIN crpspecializedtradeworkclassification w ON w.CmnAppliedCategoryId=cat.Id,crpspecializedtrade a LEFT JOIN cmnlistitem i ON i.Id = a.CmnSalutationId LEFT JOIN cmndzongkhag d  ON d.Id = a.CmnDzongkhagId LEFT JOIN crpspecializedtradeappliedservice s ON s.CrpSpecializedTradeId = a.Id LEFT JOIN crpservice ss ON ss.Id = s.CmnServiceTypeId  WHERE a.ReferenceNo =?;
SpecializedDao.getTradeDoc=SELECT d.Id id,d.DocumentName,d.DocumentPath,d.CreatedOn,d.FileType FROM crpspecializedtradeattachment d WHERE d.CrpSpecializedTradeId=?

SpecializedDao.getspcializedTradeDetails=SELECT ApplicationDate applicationDate,CmnApplicationRegistrationStatusId updateStatus,CrpSpecializedTradeId,ReferenceNo,CIDNo cidNo,NAME fullname,CmnSalutationId salutation,CmnDzongkhagId dzongkhagId,Gewog gewog,Village village,Email email,MobileNo mobileNo,TelephoneNo telephoneNo,TPN tpn,EmployerName employeeName,EmployerAddress employeeAddress,RegistrationApprovedDate approvaldate,RemarksByApprover approiverremarks,RegistrationExpiryDate regExpDate FROM crpspecializedtrade WHERE ReferenceNo = ?
SpecializedDao.getPrintList=SELECT f.SPNo cdbNo,f.ApplicationDate applicationDate,f.CIDNo cidNo,f.Email email,f.Name fullname,f.MobileNo mobileNo,f.EditedOn approvaldate FROM crpspecializedtradefinal f WHERE f.CmnApplicationRegistrationStatusId=?